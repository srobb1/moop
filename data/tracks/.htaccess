# SECURITY: Block direct access to track files
# All track requests MUST go through /api/jbrowse2/tracks.php
# which validates JWT tokens before serving files
#
# WHY THIS IS CRITICAL:
# Without this protection, anyone can bypass JWT authentication by
# accessing files directly if they know the file path:
#   BAD:  /moop/data/tracks/Organism/Assembly/file.bw (no auth!)
#   GOOD: /moop/api/jbrowse2/tracks.php?file=...&token=... (validated)
#
# This is why even "public" tracks need JWT tokens - not for access control,
# but to prevent bypassing tracks.php entirely.

# Apache 2.2 style
<IfVersion < 2.4>
    Order Deny,Allow
    Deny from all
</IfVersion>

# Apache 2.4+ style
<IfVersion >= 2.4>
    Require all denied
</IfVersion>

# Additional protection: Return clear error message
ErrorDocument 403 "Access denied. Track files must be accessed through the API endpoint with valid JWT token."
